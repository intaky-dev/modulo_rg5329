<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">

        <!-- Cuenta contable para percepciones RG 5329 -->
        <record id="account_perception_rg5329" model="account.account" forcecreate="0">
            <field name="code">2.1.3.03.041</field>
            <field name="name">Percepciones de IVA RG 5329</field>
            <field name="account_type">liability_current</field>
            <field name="reconcile">True</field>
        </record>

        <!-- Grupo de impuestos específico para RG 5329 -->
        <record id="tax_group_rg5329" model="account.tax.group">
            <field name="name">Percepción RG 5329</field>
            <field name="sequence">20</field>
        </record>

        <!-- Impuestos de percepción RG 5329 -->
        <record id="tax_perception_rg5329_3" model="account.tax">
            <field name="name">Percepción IVA RG 5329 - 3%</field>
            <field name="type_tax_use">sale</field>
            <field name="amount_type">percent</field>
            <field name="amount">3.0</field>
            <field name="description">Percepción 3% para productos con IVA 21%</field>
            <field name="active">True</field>
            <field name="sequence">10</field>
            <field name="tax_group_id" ref="tax_group_rg5329"/>
            <field name="is_rg5329_perception">True</field>
            <field name="include_base_amount">False</field>
            <field name="invoice_repartition_line_ids" eval="[
                (0,0, {
                    'repartition_type': 'base',
                }),
                (0,0, {
                    'factor_percent': 100,
                    'repartition_type': 'tax',
                    'account_id': ref('account_perception_rg5329'),
                }),
            ]"/>
            <field name="refund_repartition_line_ids" eval="[
                (0,0, {
                    'repartition_type': 'base',
                }),
                (0,0, {
                    'factor_percent': 100,
                    'repartition_type': 'tax',
                    'account_id': ref('account_perception_rg5329'),
                }),
            ]"/>
        </record>

        <record id="tax_perception_rg5329_1_5" model="account.tax">
            <field name="name">Percepción IVA RG 5329 - 1,5%</field>
            <field name="type_tax_use">sale</field>
            <field name="amount_type">percent</field>
            <field name="amount">1.5</field>
            <field name="description">Percepción 1,5% para productos con IVA 10,5%</field>
            <field name="active">True</field>
            <field name="sequence">11</field>
            <field name="tax_group_id" ref="tax_group_rg5329"/>
            <field name="is_rg5329_perception">True</field>
            <field name="include_base_amount">False</field>
            <field name="invoice_repartition_line_ids" eval="[
                (0,0, {
                    'repartition_type': 'base',
                }),
                (0,0, {
                    'factor_percent': 100,
                    'repartition_type': 'tax',
                    'account_id': ref('account_perception_rg5329'),
                }),
            ]"/>
            <field name="refund_repartition_line_ids" eval="[
                (0,0, {
                    'repartition_type': 'base',
                }),
                (0,0, {
                    'factor_percent': 100,
                    'repartition_type': 'tax',
                    'account_id': ref('account_perception_rg5329'),
                }),
            ]"/>
        </record>

        <!-- Impuestos de percepción RG 5329 para COMPRAS -->
        <record id="tax_perception_rg5329_3_purchase" model="account.tax">
            <field name="name">Percepción IVA RG 5329 - 3% (Compras)</field>
            <field name="type_tax_use">purchase</field>
            <field name="amount_type">percent</field>
            <field name="amount">3.0</field>
            <field name="description">Percepción 3% para productos con IVA 21% en compras</field>
            <field name="active">True</field>
            <field name="sequence">10</field>
            <field name="tax_group_id" ref="tax_group_rg5329"/>
            <field name="is_rg5329_perception">True</field>
            <field name="include_base_amount">False</field>
            <field name="invoice_repartition_line_ids" eval="[
                (0,0, {
                    'repartition_type': 'base',
                }),
                (0,0, {
                    'factor_percent': 100,
                    'repartition_type': 'tax',
                    'account_id': ref('account_perception_rg5329'),
                }),
            ]"/>
            <field name="refund_repartition_line_ids" eval="[
                (0,0, {
                    'repartition_type': 'base',
                }),
                (0,0, {
                    'factor_percent': 100,
                    'repartition_type': 'tax',
                    'account_id': ref('account_perception_rg5329'),
                }),
            ]"/>
        </record>

        <record id="tax_perception_rg5329_1_5_purchase" model="account.tax">
            <field name="name">Percepción IVA RG 5329 - 1,5% (Compras)</field>
            <field name="type_tax_use">purchase</field>
            <field name="amount_type">percent</field>
            <field name="amount">1.5</field>
            <field name="description">Percepción 1,5% para productos con IVA 10,5% en compras</field>
            <field name="active">True</field>
            <field name="sequence">11</field>
            <field name="tax_group_id" ref="tax_group_rg5329"/>
            <field name="is_rg5329_perception">True</field>
            <field name="include_base_amount">False</field>
            <field name="invoice_repartition_line_ids" eval="[
                (0,0, {
                    'repartition_type': 'base',
                }),
                (0,0, {
                    'factor_percent': 100,
                    'repartition_type': 'tax',
                    'account_id': ref('account_perception_rg5329'),
                }),
            ]"/>
            <field name="refund_repartition_line_ids" eval="[
                (0,0, {
                    'repartition_type': 'base',
                }),
                (0,0, {
                    'factor_percent': 100,
                    'repartition_type': 'tax',
                    'account_id': ref('account_perception_rg5329'),
                }),
            ]"/>
        </record>


    </data>
</odoo>